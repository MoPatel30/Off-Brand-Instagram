[{"C:\\Users\\mopat\\instagram\\frontend\\src\\index.js":"1","C:\\Users\\mopat\\instagram\\frontend\\src\\App.js":"2","C:\\Users\\mopat\\instagram\\frontend\\src\\create-post.js":"3","C:\\Users\\mopat\\instagram\\frontend\\src\\photo-feed.js":"4","C:\\Users\\mopat\\instagram\\frontend\\src\\axios.js":"5","C:\\Users\\mopat\\instagram\\frontend\\src\\firebase.js":"6"},{"size":384,"mtime":1607667389460,"results":"7","hashOfConfig":"8"},{"size":2186,"mtime":1607929483072,"results":"9","hashOfConfig":"8"},{"size":7301,"mtime":1607916715856,"results":"10","hashOfConfig":"8"},{"size":884,"mtime":1607917154894,"results":"11","hashOfConfig":"8"},{"size":167,"mtime":1607416637304,"results":"12","hashOfConfig":"8"},{"size":812,"mtime":1607917432373,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1bber96",{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\mopat\\instagram\\frontend\\src\\index.js",[],"C:\\Users\\mopat\\instagram\\frontend\\src\\App.js",["29"],"import React, {useState} from \"react\"\nimport './App.css';\nimport CreatePost, {NewPost} from \"./create-post\"\nimport {PhotoFeed} from \"./photo-feed\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport {auth, provider} from \"./firebase\"\nimport Button from '@material-ui/core/Button';\n\n\n\nfunction App() {\n  const [user, setUser] = useState(\"\")\n\n\n  const signIn = () => {\n    auth\n      .signInWithPopup(provider)\n      .then((result) =>{\n        console.log(result)\n        console.log(result.user.displayName)\n        setUser(result.user.displayName)\n        \n    })\n  }\n\n\n  return (\n    <div className=\"App\">\n\n      <nav className = \"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\">\n        <h1 style = {{color: \"white\", textAlign: \"center\"}}><i>Off-Brand Instagram</i></h1>\n        <h1 style = {{color: \"white\", textAlign: \"center\"}}> Welcome, {user}!</h1>\n          \n          <div className = \"buttons\">\n            <Button variant=\"contained\" cursor = \"pointer\" color=\"primary\" href=\"#contained-buttons\">\n              Feed\n            </Button>\n            <Button variant=\"contained\" cursor = \"pointer\" color=\"primary\" href=\"#contained-buttons\">\n              Profile\n            </Button>\n            <Button variant=\"contained\" cursor = \"pointer\" color=\"primary\" href=\"#contained-buttons\">\n              Logout\n            </Button>\n            <Button onClick = {signIn} cursor = \"pointer\" variant=\"contained\" color=\"primary\" href=\"#contained-buttons\">\n              Login\n            </Button>\n          </div>\n\n      </nav>\n\n      <div className = \"App-body\">\n\n        <div id = \"post-btn\">\n          <CreatePost /> \n        </div>\n\n        <div id = \"feed\">\n          <PhotoFeed user = {user} />\n        </div>\n        \n      </div>\n    \n    </div>\n  );\n}\n\nexport default App;\n\n\n/*\n\n   <ul class=\"navbar-nav ml-auto\">\n            <li class=\"nav-item\">\n              <a class=\"nav-link\">Home</a>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link\">About</a>\n            </li>\n            <li class=\"nav-item\">\n              <a class=\"nav-link\" cursor = \"pointer\" onClick = {signIn()}>Logout</a>\n            </li>\n          </ul>\n\n\n*/","C:\\Users\\mopat\\instagram\\frontend\\src\\create-post.js",["30","31","32","33","34","35","36","37"],"import React, {useState, useEffect} from \"react\"\r\nimport \"./create-post.css\"\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport PhotoFeed from \"./photo-feed\"\r\nimport firebase from \"firebase\"\r\nimport db from \"./firebase\";\r\nimport {storage} from \"./firebase\"\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport Button from '@material-ui/core/Button';\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\n\r\n\r\nfunction CreatePost() {\r\n    const [form, setForm] = useState(\"\")\r\n    \r\n    const makePost = (e) => {\r\n        e.preventDefault()\r\n        setForm(<MakePostForm />)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <AddBoxIcon fontSize = \"large\" onClick = {makePost} />\r\n            \r\n            <div>\r\n                <p>{form}</p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost\r\n\r\n\r\n\r\n\r\n\r\nexport function MakePostForm(){\r\n    const date = String((new Date().getMonth() + 1) + '/' + new Date().getDate() + '/' + (new Date().getFullYear())) \r\n    \r\n    const [pic, setPic] = useState(null)\r\n    const [desc, setDesc] = useState(\"\")\r\n    const [name, setName] = useState(\"Mo Patel\")\r\n\r\n    const [progress, setProgress] = useState(0)\r\n    const [post, setPost] = useState(\"\")\r\n\r\n\r\n\r\n    const ImageChange = (e) => {\r\n        e.preventDefault()\r\n        if(e.target.files[0]){\r\n            setPic(e.target.files[0])\r\n        }\r\n    }\r\n\r\n\r\n    const ImageUpload = (e) => {\r\n        e.preventDefault()\r\n        \r\n        const uploadTask = storage.ref(`posts/${pic.name}`).put(pic)\r\n        var number = Math.floor(Math.random() * 100000000)\r\n       \r\n        uploadTask.on(\r\n            \"state_changed\",\r\n            (snapshot) => {\r\n                const progress1 = Math.round((snapshot.byteTransferred / snapshot.totalBytes) * 100)\r\n                console.log(progress1)\r\n                setProgress(progress1)\r\n            },\r\n            (error) => {\r\n                console.log(error)\r\n            },\r\n            () => {\r\n                storage\r\n                    .ref(\"posts\")\r\n                    .child(pic.name)\r\n                    .getDownloadURL()\r\n                    .then(url => {\r\n                        var post = {\r\n                            name: String(name),\r\n                            timestamp: date,\r\n                            photo: url,\r\n                            description: String(desc),\r\n                            likes: 0,\r\n                            id: String(number),\r\n                            likedBy: []\r\n                        }\r\n     \r\n                        db.collection(\"posts\").doc(String(number)).set(post)\r\n                            .then(function() {\r\n                                console.log(\"Document successfully written!\");\r\n                            })\r\n                            .catch(function(error) {\r\n                                console.error(\"Error writing document: \", error);\r\n                            });\r\n\r\n                        setProgress(0)\r\n                        setDesc(\"\")\r\n                        setPic(null)\r\n\r\n                    })\r\n            }\r\n\r\n        )\r\n            \r\n    }\r\n\r\n\r\n    return(\r\n        <div className = \"post-form\">\r\n            <form type = \"submit\">\r\n                <h2 id = \"username\">Mo Patel</h2>\r\n                <p id = \"timestamp\">{date}</p>\r\n                <div className = \"input-forms\">\r\n                    <label className = \"label-forms\">Upload Photo: </label>\r\n                    <input id = \"picture\" type=\"file\" onChange = {ImageChange}/>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"default\"\r\n                        type = \"file\"\r\n                        startIcon={<CloudUploadIcon />}\r\n                    >Upload Image</Button>\r\n\r\n                    <TextField\r\n                        className = \"post-description\"\r\n                        id=\"outlined-multiline-static\"\r\n                        label=\"Description\"\r\n                        multiline\r\n                        rows={4}\r\n                        defaultValue=\"\"\r\n                        variant=\"outlined\"\r\n                        onChange = {(e) => {setDesc(e.target.value)}}\r\n                    />\r\n              \r\n                </div>\r\n\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    type = \"submit\"\r\n                    onClick = {ImageUpload}\r\n                > Post </Button>\r\n            \r\n             \r\n            </form>\r\n\r\n\r\n        </div>\r\n                 \r\n    )\r\n   \r\n}\r\n\r\n/*\r\n            <img id = \"display-image\" alt = \"pic\" src= \"\" style = {{width: \"400px\", height: \"400px\"}} />\r\n           \r\n            <p>{post}</p>\r\n\r\n*/\r\n\r\n\r\n\r\nexport function NewPost(props){\r\n    const [likes, setLikes] = useState(props.likes)\r\n    const [likedByTheseUsers, setLikedByTheseUsers] = useState(props.likedBy)\r\n    \r\n\r\n    function likePost(postId){ \r\n        if(likedByTheseUsers.indexOf(props.name) === -1){    \r\n            setLikes(likes + 1)            \r\n            db.collection(\"posts\").doc(`${postId}`).update({likes: likes})\r\n                .then(function() {\r\n                    console.log(\"Document successfully written!\");\r\n                })\r\n                .catch(function(error) {\r\n                    console.error(\"Error writing document: \", error);\r\n                });\r\n            \r\n            var tempLikedByTheseUsers = likedByTheseUsers\r\n            tempLikedByTheseUsers.push(props.name)\r\n            setLikedByTheseUsers(tempLikedByTheseUsers)\r\n\r\n            db.collection(\"posts\").doc(`${postId}`).update({likedBy: likedByTheseUsers})\r\n                .then(function() {\r\n                    console.log(\"Document successfully written!\");\r\n                })\r\n                .catch(function(error) {\r\n                    console.error(\"Error writing document: \", error);\r\n                });\r\n        }      \r\n    }\r\n\r\n\r\n    return( \r\n        <div>\r\n            <div className = \"post-body\">\r\n                <div className = \"post-header\">\r\n                    <h2>{props.user}</h2>\r\n                    <h2>{props.timestamp}</h2>\r\n                </div>\r\n\r\n                <div className = \"post-img\">\r\n                    <img id = \"display-image\" alt = \"pic\" src= {props.photo} style = {{width: \"400px\", height: \"400px\"}} />\r\n                    \r\n                </div>\r\n\r\n                <div className = \"post-description\">\r\n                    <p><b> Description: </b> {props.description} </p>\r\n                </div>\r\n                \r\n                <div className = \"post-description\">\r\n                    <p><b> Likes: </b> {props.likes} </p>\r\n                </div>\r\n\r\n                <div className = \"post-description\">\r\n                    <FavoriteIcon onClick = {() => {likePost(props.id)}} cursor = \"pointer\" />\r\n                    <button onClick = {() => {likePost(props.id)}} cursor = \"pointer\">\r\n                        Like Post\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    \r\n    )  \r\n}\r\n","C:\\Users\\mopat\\instagram\\frontend\\src\\photo-feed.js",["38","39","40","41"],"import React, {useState, useEffect} from 'react'\r\nimport \"./photo-feed.css\"\r\nimport {NewPost} from \"./create-post\"\r\nimport axios from \"axios\"\r\nimport db from \"./firebase\"\r\n\r\n\r\nexport function PhotoFeed(props) {\r\n\r\n    const [fbPost, setFbPost] = useState([])\r\n    const [id, setId] = [\"\"]\r\n\r\n\r\n    useEffect(() => {\r\n        db.collection('posts').onSnapshot(snapshot => {\r\n            setFbPost(snapshot.docs.map(doc => doc.data()))\r\n            \r\n        })\r\n        console.log(fbPost)\r\n\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div className = \"feed\">\r\n\r\n            {\r\n            fbPost.map((post) => (\r\n                <NewPost name = {props.user} id = {post.id} photo = {post.photo} description = {post.description} user = {post.name} timestamp = {post.timestamp} likes = {post.likes} likedBy = {post.likedBy} />    \r\n            ))} \r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\n","C:\\Users\\mopat\\instagram\\frontend\\src\\axios.js",[],"C:\\Users\\mopat\\instagram\\frontend\\src\\firebase.js",[],{"ruleId":"42","severity":1,"message":"43","line":3,"column":21,"nodeType":"44","messageId":"45","endLine":3,"endColumn":28},{"ruleId":"42","severity":1,"message":"46","line":1,"column":26,"nodeType":"44","messageId":"45","endLine":1,"endColumn":35},{"ruleId":"42","severity":1,"message":"47","line":4,"column":8,"nodeType":"44","messageId":"45","endLine":4,"endColumn":17},{"ruleId":"42","severity":1,"message":"48","line":5,"column":8,"nodeType":"44","messageId":"45","endLine":5,"endColumn":16},{"ruleId":"42","severity":1,"message":"49","line":14,"column":8,"nodeType":"44","messageId":"45","endLine":14,"endColumn":12},{"ruleId":"42","severity":1,"message":"50","line":49,"column":18,"nodeType":"44","messageId":"45","endLine":49,"endColumn":25},{"ruleId":"42","severity":1,"message":"51","line":51,"column":12,"nodeType":"44","messageId":"45","endLine":51,"endColumn":20},{"ruleId":"42","severity":1,"message":"52","line":52,"column":12,"nodeType":"44","messageId":"45","endLine":52,"endColumn":16},{"ruleId":"42","severity":1,"message":"53","line":52,"column":18,"nodeType":"44","messageId":"45","endLine":52,"endColumn":25},{"ruleId":"42","severity":1,"message":"54","line":4,"column":8,"nodeType":"44","messageId":"45","endLine":4,"endColumn":13},{"ruleId":"42","severity":1,"message":"55","line":11,"column":12,"nodeType":"44","messageId":"45","endLine":11,"endColumn":14},{"ruleId":"42","severity":1,"message":"56","line":11,"column":16,"nodeType":"44","messageId":"45","endLine":11,"endColumn":21},{"ruleId":"57","severity":1,"message":"58","line":21,"column":8,"nodeType":"59","endLine":21,"endColumn":10,"suggestions":"60"},"no-unused-vars","'NewPost' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'PhotoFeed' is defined but never used.","'firebase' is defined but never used.","'Icon' is defined but never used.","'setName' is assigned a value but never used.","'progress' is assigned a value but never used.","'post' is assigned a value but never used.","'setPost' is assigned a value but never used.","'axios' is defined but never used.","'id' is assigned a value but never used.","'setId' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fbPost'. Either include it or remove the dependency array.","ArrayExpression",["61"],{"desc":"62","fix":"63"},"Update the dependencies array to be: [fbPost]",{"range":"64","text":"65"},[499,501],"[fbPost]"]